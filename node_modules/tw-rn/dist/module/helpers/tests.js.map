{"version":3,"sources":["tests.ts"],"names":["MockDate","FRAME_TIME","advanceOneFrame","now","Date","set","jest","advanceTimersByTime","timeTravel","msToAdvance","numberOfFramesToRun","framesElapsed","setupTimeTravel","useFakeTimers"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,OAAO,MAAMC,UAAU,GAAG,EAAnB;AAEP,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,QAAMC,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAZ;AACAH,EAAAA,QAAQ,CAACK,GAAT,CAAa,IAAID,IAAJ,CAASD,GAAG,GAAGF,UAAf,CAAb;AACAK,EAAAA,IAAI,CAACC,mBAAL,CAAyBN,UAAzB;AACD,CAJM;AAMP,OAAO,MAAMO,UAAU,GAAG,CAACC,WAAW,GAAGR,UAAf,KAA8B;AACtD,QAAMS,mBAAmB,GAAGD,WAAW,GAAGR,UAA1C;AACA,MAAIU,aAAa,GAAG,CAApB,CAFsD,CAItD;;AACA,SAAOA,aAAa,GAAGD,mBAAvB,EAA4C;AAC1CR,IAAAA,eAAe;AACfS,IAAAA,aAAa;AACd;AACF,CATM;AAWP,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnCZ,EAAAA,QAAQ,CAACK,GAAT,CAAa,CAAb;AACAC,EAAAA,IAAI,CAACO,aAAL;AACD,CAHM","sourcesContent":["import MockDate from \"mockdate\";\n\nexport const FRAME_TIME = 10;\n\nexport const advanceOneFrame = () => {\n  const now = Date.now();\n  MockDate.set(new Date(now + FRAME_TIME));\n  jest.advanceTimersByTime(FRAME_TIME);\n};\n\nexport const timeTravel = (msToAdvance = FRAME_TIME) => {\n  const numberOfFramesToRun = msToAdvance / FRAME_TIME;\n  let framesElapsed = 0;\n\n  // Step through each of the frames until we've ran them all\n  while (framesElapsed < numberOfFramesToRun) {\n    advanceOneFrame();\n    framesElapsed++;\n  }\n};\n\nexport const setupTimeTravel = () => {\n  MockDate.set(0);\n  jest.useFakeTimers();\n};\n"]}