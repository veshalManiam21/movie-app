"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setupTimeTravel = exports.timeTravel = exports.advanceOneFrame = exports.FRAME_TIME = void 0;

var _mockdate = _interopRequireDefault(require("mockdate"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const FRAME_TIME = 10;
exports.FRAME_TIME = FRAME_TIME;

const advanceOneFrame = () => {
  const now = Date.now();

  _mockdate.default.set(new Date(now + FRAME_TIME));

  jest.advanceTimersByTime(FRAME_TIME);
};

exports.advanceOneFrame = advanceOneFrame;

const timeTravel = (msToAdvance = FRAME_TIME) => {
  const numberOfFramesToRun = msToAdvance / FRAME_TIME;
  let framesElapsed = 0; // Step through each of the frames until we've ran them all

  while (framesElapsed < numberOfFramesToRun) {
    advanceOneFrame();
    framesElapsed++;
  }
};

exports.timeTravel = timeTravel;

const setupTimeTravel = () => {
  _mockdate.default.set(0);

  jest.useFakeTimers();
};

exports.setupTimeTravel = setupTimeTravel;
//# sourceMappingURL=tests.js.map