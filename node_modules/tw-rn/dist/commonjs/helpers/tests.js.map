{"version":3,"sources":["tests.ts"],"names":["FRAME_TIME","advanceOneFrame","now","Date","MockDate","set","jest","advanceTimersByTime","timeTravel","msToAdvance","numberOfFramesToRun","framesElapsed","setupTimeTravel","useFakeTimers"],"mappings":";;;;;;;AAAA;;;;AAEO,MAAMA,UAAU,GAAG,EAAnB;;;AAEA,MAAMC,eAAe,GAAG,MAAM;AACnC,QAAMC,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAZ;;AACAE,oBAASC,GAAT,CAAa,IAAIF,IAAJ,CAASD,GAAG,GAAGF,UAAf,CAAb;;AACAM,EAAAA,IAAI,CAACC,mBAAL,CAAyBP,UAAzB;AACD,CAJM;;;;AAMA,MAAMQ,UAAU,GAAG,CAACC,WAAW,GAAGT,UAAf,KAA8B;AACtD,QAAMU,mBAAmB,GAAGD,WAAW,GAAGT,UAA1C;AACA,MAAIW,aAAa,GAAG,CAApB,CAFsD,CAItD;;AACA,SAAOA,aAAa,GAAGD,mBAAvB,EAA4C;AAC1CT,IAAAA,eAAe;AACfU,IAAAA,aAAa;AACd;AACF,CATM;;;;AAWA,MAAMC,eAAe,GAAG,MAAM;AACnCR,oBAASC,GAAT,CAAa,CAAb;;AACAC,EAAAA,IAAI,CAACO,aAAL;AACD,CAHM","sourcesContent":["import MockDate from \"mockdate\";\n\nexport const FRAME_TIME = 10;\n\nexport const advanceOneFrame = () => {\n  const now = Date.now();\n  MockDate.set(new Date(now + FRAME_TIME));\n  jest.advanceTimersByTime(FRAME_TIME);\n};\n\nexport const timeTravel = (msToAdvance = FRAME_TIME) => {\n  const numberOfFramesToRun = msToAdvance / FRAME_TIME;\n  let framesElapsed = 0;\n\n  // Step through each of the frames until we've ran them all\n  while (framesElapsed < numberOfFramesToRun) {\n    advanceOneFrame();\n    framesElapsed++;\n  }\n};\n\nexport const setupTimeTravel = () => {\n  MockDate.set(0);\n  jest.useFakeTimers();\n};\n"]}