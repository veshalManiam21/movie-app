{"version":3,"sources":["withTwrn.tsx"],"names":["withTwrn","Component","styleKeys","onMouseEnter","onMouseLeave","onFocus","onBlur","props","tailwindReactNativeStyle","platformStyles","mediaStyles","hoverStyles","handleOnMouseEnter","handleOnMouseLeave","focusStyles","handleOnFocus","handleOnBlur","orientationStyles","combinedStyles","regularOrAnimatedStylesProps","reduce","acc","key","index","some","style"],"mappings":";;;;;;;AAAA;;AAGA;;;;;;;;;;;;;;;;;;AAiBO,MAAMA,QAAQ,GAAG,CACtBC,SADsB,EAEtBC,SAFsB,KAGgB,UAMlC;AAAA,MANmC;AACvCC,IAAAA,YADuC;AAEvCC,IAAAA,YAFuC;AAGvCC,IAAAA,OAHuC;AAIvCC,IAAAA;AAJuC,GAMnC;AAAA,MADDC,KACC;;AACJ,QAAMC,wBAAwB,GAAG,wCAC/BD,KAD+B,EAE/BL,SAF+B,CAAjC;AAKA,QAAMO,cAAc,GAAG,8BAAkBD,wBAAlB,CAAvB;AAEA,QAAME,WAAW,GAAG,2BAAeD,cAAf,CAApB;AAEA,QAAM;AACJE,IAAAA,WADI;AAEJC,IAAAA,kBAFI;AAGJC,IAAAA;AAHI,MAIF,2BAAeJ,cAAf,EAA+BN,YAA/B,EAA6CC,YAA7C,CAJJ;AAMA,QAAM;AAAEU,IAAAA,WAAF;AAAeC,IAAAA,aAAf;AAA8BC,IAAAA;AAA9B,MAA+C,2BACnDP,cADmD,EAEnDJ,OAFmD,EAGnDC,MAHmD,CAArD;AAMA,QAAMW,iBAAiB,GAAG,iCAAqBR,cAArB,CAA1B;AAEA,QAAMS,cAAc,GAAG,6BAAiB,CACtCR,WADsC,EAEtCO,iBAFsC,EAGtCN,WAHsC,EAItCG,WAJsC,CAAjB,CAAvB,CAxBI,CA+BJ;;AACA,QAAMK,4BAA4B,GAAG,oBACnC,MACEjB,SAAS,CAACkB,MAAV,CACE,CAACC,GAAD,EAAMC,GAAN,EAAWC,KAAX,qCACKF,GADL;AAEE,KAACC,GAAD,GAAOJ,cAAc,CAACK,KAAD;AAFvB,IADF,EAKE,EALF,CAFiC,EASnC,CAACL,cAAD,CATmC,CAArC,CAhCI,CA4CJ;AACA;;AACA,MAAIA,cAAc,CAACM,IAAf,CAAqBC,KAAD,IAAWA,KAAK,KAAK,IAAzC,CAAJ,EAAoD,OAAO,IAAP;AAEpD,sBACE,6BAAC,SAAD,eACOlB,KADP,EAEMY,4BAFN;AAGE,IAAA,YAAY,EAAEP,kBAHhB;AAIE,IAAA,YAAY,EAAEC,kBAJhB;AAKE,IAAA,OAAO,EAAEE,aALX;AAME,IAAA,MAAM,EAAEC;AANV,KADF;AAUD,CAnEM;;;eAqEQhB,Q","sourcesContent":["import React, { ComponentType, useMemo } from \"react\";\nimport { NativeSyntheticEvent, TargetedEvent } from \"react-native\";\nimport { TailwindReactNativeStyleProps } from \"../types\";\nimport {\n  useTailwindReactNativeStyle,\n  usePlatformStyles,\n  useMediaStyles,\n  useHoverStyles,\n  useFocusStyles,\n  useOrientationStyles,\n  useCombineStyles,\n} from \"../hooks\";\n\nexport type VariantProps<P, O extends keyof P> = {\n  onMouseEnter?: (e: any) => void;\n  onMouseLeave?: (e: any) => void;\n  onFocus?: (e: NativeSyntheticEvent<TargetedEvent>) => void;\n  onBlur?: (e: NativeSyntheticEvent<TargetedEvent>) => void;\n} & TailwindReactNativeStyleProps<P, O>;\n\nexport const withTwrn = <P extends object, O extends keyof P>(\n  Component: ComponentType<P>,\n  styleKeys: O[]\n): ComponentType<VariantProps<P, O>> => ({\n  onMouseEnter,\n  onMouseLeave,\n  onFocus,\n  onBlur,\n  ...props\n}) => {\n  const tailwindReactNativeStyle = useTailwindReactNativeStyle(\n    props,\n    styleKeys\n  );\n\n  const platformStyles = usePlatformStyles(tailwindReactNativeStyle);\n\n  const mediaStyles = useMediaStyles(platformStyles);\n\n  const {\n    hoverStyles,\n    handleOnMouseEnter,\n    handleOnMouseLeave,\n  } = useHoverStyles(platformStyles, onMouseEnter, onMouseLeave);\n\n  const { focusStyles, handleOnFocus, handleOnBlur } = useFocusStyles(\n    platformStyles,\n    onFocus,\n    onBlur\n  );\n\n  const orientationStyles = useOrientationStyles(platformStyles);\n\n  const combinedStyles = useCombineStyles([\n    mediaStyles,\n    orientationStyles,\n    hoverStyles,\n    focusStyles,\n  ]);\n\n  // Combining styles position with keys indicated in the styleKeys\n  const regularOrAnimatedStylesProps = useMemo(\n    () =>\n      styleKeys.reduce(\n        (acc, key, index) => ({\n          ...acc,\n          [key]: combinedStyles[index],\n        }),\n        {}\n      ),\n    [combinedStyles]\n  );\n\n  // If combinedStyles are null, it means that we're in SSR and should not\n  // render because we don't have the destination size. Note: can be improved.\n  if (combinedStyles.some((style) => style === null)) return null;\n\n  return (\n    <Component\n      {...(props as P)}\n      {...regularOrAnimatedStylesProps}\n      onMouseEnter={handleOnMouseEnter}\n      onMouseLeave={handleOnMouseLeave}\n      onFocus={handleOnFocus}\n      onBlur={handleOnBlur}\n    />\n  );\n};\n\nexport default withTwrn;\n"]}